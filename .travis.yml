language: dart

dart:
  - stable
  - dev

jobs:
  include:
    - &test-logic
      before_script:
        - cd logic
        - pub get
      script:
        - dartanalyzer lib test --fatal-warnings
        - dartfmt --dry-run --set-exit-if-changed -- .
    - test-angular
      <<: *test-logic
      before_script:
        - cd angular
        - pub get
    - test-flutter
      before_script:
        - cd flutter
        - git clone https://github.com/flutter/flutter.git flutter-source
        - flutter-source/bin/flutter packages get
        - flutter-source/bin/flutter analyze
        - dartfmt --dry-run --set-exit-if-changed -- .
